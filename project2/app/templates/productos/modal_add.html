{% load static %}
<link rel="stylesheet" href="{% static 'ap1/css/styles_productos.css' %}">  
<div class="modal-content">
    <div class="modal-header">
        <h2><i class="fas fa-box-open"></i> Registrar Producto</h2>
    </div>
    
    <form id="formAddProducto" method="POST" action="{% url 'crear_producto' %}" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label>NOMBRE DEL PRODUCTO</label>
            <input type="text" name="nombre" id="inputNombre" placeholder="Ej: Capitoneado Plano">
            <div class="error-message" id="errorNombre"></div>
        </div>

        <div class="form-group">
            <label>TIPO DE PRODUCTO</label>
            <select name="tipo" id="inputTipo">
                <option value="" disabled selected>Seleccione el tipo</option>
                <option value="Espaldar">Espaldar</option>
                <option value="Base Cama">Base Cama</option>
                <option value="Colchón">Colchón</option>
                <option value="Combo">Combo Completo</option>
            </select>
            <div class="error-message" id="errorTipo"></div>
        </div>
        
        <div style="display: flex; gap: 10px;">
            <div class="form-group" style="flex: 1;">
                <label>PRECIO</label>
                <input type="number" name="precio" id="inputPrecio" step="0.01" min="0" placeholder="0.00">
                <div class="error-message" id="errorPrecio"></div>
            </div>
            <div class="form-group" style="flex: 1;">
                <label>STOCK INICIAL</label>
                <input type="number" name="stock" id="inputStock" min="0" placeholder="0">
                <div class="error-message" id="errorStock"></div>
            </div>
        </div>

        <div class="form-group">
            <label>CATEGORÍA</label>
            <select name="categoria" id="inputCategoria">
                <option value="" disabled selected>Seleccione categoría</option>
                {% for cat in categorias %}
                <option value="{{ cat.id }}">{{ cat.nombre }}</option>
                {% endfor %}
            </select>
            <div class="error-message" id="errorCategoria"></div>
        </div>

        <div class="form-group">
            <label><i class="fas fa-image"></i> FOTO DEL PRODUCTO</label>
            <input type="file" name="imagen" accept="image/*" class="form-control">
            <small style="color: gray;">Sube una foto del catálogo (ej: Lineal Banana o Base Baúl).</small>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn-cancel" onclick="cerrarModal('modalAdd')">Cancelar</button>
            <button type="submit" id="btnGuardar" class="btn-save">Guardar</button>
        </div>
    </form>
</div>

<style>
.error-message {
    color: #e74c3c;
    font-size: 12px;
    margin-top: 5px;
    display: none;
}
.error-message.show {
    display: block;
}
.input-error {
    border-color: #e74c3c !important;
}
</style>
