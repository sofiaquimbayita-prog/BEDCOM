<div class="modal-content">
    <div class="modal-header">
        <h2><i class="fas fa-edit"></i> Editar Producto</h2>
        
    
    <form method="POST" id="formEditarProducto" action="" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label>NOMBRE DEL PRODUCTO</label>
            <input type="text" name="nombre" value="{{ object.nombre }}" required placeholder="Ej: Lineal Banana">
        </div>

        <div class="form-group">
            <label>TIPO</label>
            <select name="tipo" required>
                <option value="Base Cama" {% if object.tipo == 'Base Cama' %}selected{% endif %}>Base Cama</option>
                <option value="Espaldar" {% if object.tipo == 'Espaldar' %}selected{% endif %}>Espaldar</option>
                <option value="Colchón" {% if object.tipo == 'Colchón' %}selected{% endif %}>Colchón</option>
                <option value="Combo" {% if object.tipo == 'Combo' %}selected{% endif %}>Combo Completo</option>
            </select>
        </div>

        <div class="form-group">
            <label>CATEGORÍA</label>
            <select name="categoria" required>
                {% for cat in categorias %}
                    <option value="{{ cat.id }}" {% if object.categoria.id == cat.id %}selected{% endif %}>{{ cat.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <div style="display: flex; gap: 10px;">
            <div class="form-group" style="flex: 1;">
                <label>PRECIO</label>
                <input type="number" name="precio" step="0.01" min="0" value="{{ object.precio|stringformat:'.2f' }}" required>
            </div>
            <div class="form-group" style="flex: 1;">
                <label>STOCK</label>
                <input type="number" name="stock" min="0" value="{{ object.stock }}" required>
            </div>
        </div>

        <div class="form-group">
            <label><i class="fas fa-image"></i> FOTO DEL PRODUCTO</label>
            
            {% if object.imagen %}
                <div style="margin-bottom: 10px; text-align: center;">
                    
                    <img src="{{ object.imagen.url }}" alt="{{ object.nombre }}" style="max-width: 150px; border-radius: 8px; border: 1px solid #ddd;">
                </div>
            {% endif %}
            
            <input type="file" name="imagen" accept="image/*" class="form-control">
            <small style="color: #666;">Selecciona una nueva foto si deseas actualizar la actual.</small>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn-cancel" onclick="cerrarModal('modalEdit')">Cancelar</button>
            <button type="submit" class="btn-save">Actualizar Cambios</button>
        </div>
    </form>
</div>