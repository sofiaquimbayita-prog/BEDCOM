{% extends "includes/base.html" %}
{% load static %}
{% block header_title %}AGENDA BEDCOM{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'ap1/css/calendario.css' %}">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<main class="main-container">
    <div class="btn-agregar-container">
        <button class="btn-agregar" id="btn-nueva-actividad">
            <i class="fas fa-plus"></i> Nueva Actividad
        </button>
    </div>

    <table id="tablaEventos" class="display">
        <thead>
            <tr>
                <th>Título</th>
                <th>Categoría</th>
                <th>Fecha</th>
                <th>Hora</th>
                <th>Descripción</th>
                <th>Acciones</th>
            </tr>
        </thead>
    </table>
</main>

<!-- Modal: crear / editar (ya existente) -->
{% include "calendario/modal_calendario.html" %}

<!-- Modal: ver detalles (nuevo) -->
{% include "calendario/modal_detalle_calendario.html" %}

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    const EVENTOS_DATA_URL          = "{% url 'eventos_data' %}";
    const CREAR_EVENTO_URL          = "{% url 'crear_evento' %}";
    const EDITAR_EVENTO_BASE        = "{% url 'editar_evento' 0 %}".replace('/0/', '/');
    const OBTENER_EVENTO_BASE       = "{% url 'obtener_evento' 0 %}".replace('/0/', '/');
    const ELIMINAR_EVENTO_BASE      = "{% url 'eliminar_evento' 0 %}".replace('/0/', '/');
    const CAMBIAR_ESTADO_BASE       = "{% url 'cambiar_estado_evento' 0 %}".replace('/0/', '/');  {# ← nuevo #}
</script>
<script src="{% static 'ap1/js/calendario.js' %}"></script>
{% endblock %}